<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<h1>Hello {{ name }}</h1>
	<p>Please restore your password by clicking the link below:</p>
		<form action="{{ api_url }}/auth/restore-password?id={{ id }}" method="post">
		<input type="password" name="password" placeholder="Password" />
		<input type="password" name="confirmPassword" placeholder="Confirm password" />	
		<button type="submit">Restore your password</button>
	</form>
	<p>If you didn't request this email, please ignore this message.</p>
	<p>Thank you!</p>
	<p>The Team</p>

	<script>
		void async function handleSubmit(event) {
			event.preventDefault();

			let password = document.querySelector('input[name="password"]').value;
			let confirmPassword = document.querySelector('input[name="confirmPassword"]').value;

			try {
				if(password !== confirmPassword) 
					throw new Error("passwords don't match.");
				if(password.length < 8 || confirmPassword.length < 8)
					throw new Error('password must be less than 8 characters.');
				if(confirmPassword.length < 8)
					throw new Error('password must be less than 8 characters.');
			}catch(error) {
				console.error(error);
			}
		}
	</script>
</body>
</html>